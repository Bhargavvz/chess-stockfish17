{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adepu\\\\OneDrive\\\\Desktop\\\\stockfish\\\\chess-app\\\\src\\\\components\\\\ChessGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { Chess } from 'chess.js';\nimport { Chessboard } from 'react-chessboard';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChessGame = ({\n  playerColor,\n  searchDepth = 15\n}) => {\n  _s();\n  const [game, setGame] = useState(new Chess());\n  const [stockfish, setStockfish] = useState(null);\n  const [isThinking, setIsThinking] = useState(false);\n  const [moveHistory, setMoveHistory] = useState([]);\n  const [lastMove, setLastMove] = useState(null);\n  const [gameStatus, setGameStatus] = useState('');\n  const [engineReady, setEngineReady] = useState(false);\n  const [selectedSquare, setSelectedSquare] = useState(null);\n  const [possibleMoves, setPossibleMoves] = useState([]);\n  const [predictions, setPredictions] = useState([]);\n\n  // Refs to avoid stale closures in callbacks\n  const gameRef = useRef();\n  gameRef.current = game;\n\n  // Initialize Stockfish\n  useEffect(() => {\n    const worker = new Worker('/stockfish.js');\n    worker.onmessage = event => {\n      const message = event.data;\n      if (message === 'uciok') {\n        worker.postMessage('isready');\n      } else if (message === 'readyok') {\n        setEngineReady(true);\n        toast.success('Chess engine ready!', {\n          position: \"top-right\",\n          autoClose: 2000\n        });\n      } else if (message.startsWith('bestmove')) {\n        const moveStr = message.split(' ')[1];\n        if (moveStr && moveStr !== '(none)') {\n          try {\n            makeMove(moveStr);\n            toast.info('Stockfish made a move', {\n              position: \"top-right\",\n              autoClose: 1500\n            });\n          } catch (e) {\n            toast.error(`Invalid engine move: ${moveStr}`, {\n              position: \"top-right\",\n              autoClose: 3000\n            });\n            console.error('Invalid move:', moveStr, e);\n          }\n        }\n        setIsThinking(false);\n      }\n    };\n    setStockfish(worker);\n    worker.postMessage('uci');\n    return () => {\n      worker.terminate();\n    };\n  }, []);\n\n  // Update game status\n  useEffect(() => {\n    if (game.isGameOver()) {\n      if (game.isCheckmate()) {\n        const winner = game.turn() === 'w' ? 'Black' : 'White';\n        setGameStatus(`Checkmate! ${winner} wins.`);\n        toast.success(`Checkmate! ${winner} wins.`, {\n          position: \"top-center\",\n          autoClose: 5000\n        });\n      } else if (game.isDraw()) {\n        let reason = 'Draw';\n        if (game.isStalemate()) {\n          reason = 'Draw by stalemate';\n        } else if (game.isThreefoldRepetition()) {\n          reason = 'Draw by threefold repetition';\n        } else if (game.isInsufficientMaterial()) {\n          reason = 'Draw by insufficient material';\n        } else {\n          reason = 'Draw by 50-move rule';\n        }\n        setGameStatus(reason);\n        toast.info(reason, {\n          position: \"top-center\",\n          autoClose: 5000\n        });\n      }\n    } else {\n      setGameStatus(`${game.turn() === 'w' ? 'White' : 'Black'} to move`);\n    }\n\n    // Clear selected square and possible moves when game state changes\n    setSelectedSquare(null);\n    setPossibleMoves([]);\n  }, [game]);\n\n  // Make a move on the board\n  const makeMove = useCallback(move => {\n    try {\n      const gameCopy = new Chess(gameRef.current.fen());\n      const result = gameCopy.move(move);\n      if (result) {\n        // Update move history\n        setMoveHistory(prevHistory => {\n          const newHistory = [...prevHistory];\n          newHistory.push(result);\n          return newHistory;\n        });\n\n        // Set last move for highlighting\n        setLastMove({\n          from: result.from,\n          to: result.to\n        });\n        setGame(gameCopy);\n        return true;\n      }\n    } catch (e) {\n      console.error('Invalid move:', move, e);\n      return false;\n    }\n    return false;\n  }, []);\n\n  // Get Stockfish's move\n  const getEngineMove = useCallback(() => {\n    if (!engineReady || game.isGameOver()) return;\n    setIsThinking(true);\n    stockfish.postMessage(`position fen ${game.fen()}`);\n    stockfish.postMessage(`go depth ${searchDepth}`);\n  }, [engineReady, game, searchDepth, stockfish]);\n\n  // Get predicted best moves\n  const getPredictedMoves = useCallback(() => {\n    if (!engineReady || game.isGameOver()) return;\n\n    // This is a simplified version - in a real app, you'd need to analyze the position\n    // For now, we'll just show some common next moves\n    const possiblePredictions = [];\n    const moves = game.moves({\n      verbose: true\n    });\n\n    // Take up to 5 moves for predictions\n    for (let i = 0; i < Math.min(5, moves.length); i++) {\n      possiblePredictions.push({\n        move: moves[i],\n        evaluation: Math.random() > 0.5 ? 'Good' : 'Poor'\n      });\n    }\n    setPredictions(possiblePredictions);\n  }, [engineReady, game]);\n\n  // Handle square click for move selection\n  const handleSquareClick = square => {\n    // Don't allow moves during engine thinking or if game is over\n    if (isThinking || game.isGameOver()) return;\n\n    // Only allow moves if it's the player's turn\n    if (game.turn() === 'w' && playerColor === 'black' || game.turn() === 'b' && playerColor === 'white') {\n      return;\n    }\n\n    // If no square is selected yet, select this one if it has a piece of the current turn\n    if (!selectedSquare) {\n      const piece = game.get(square);\n      if (piece && piece.color === game.turn()) {\n        setSelectedSquare(square);\n\n        // Get possible moves for this piece\n        const moves = game.moves({\n          square: square,\n          verbose: true\n        });\n        setPossibleMoves(moves);\n      }\n    }\n    // If a square is already selected\n    else {\n      // Check if the clicked square is a valid move\n      const moveObj = possibleMoves.find(move => move.to === square);\n      if (moveObj) {\n        // Make the move\n        const success = makeMove({\n          from: selectedSquare,\n          to: square,\n          promotion: 'q' // Always promote to queen for simplicity\n        });\n        if (success) {\n          // Clear selection\n          setSelectedSquare(null);\n          setPossibleMoves([]);\n\n          // Get engine's move after a short delay\n          if (!game.isGameOver()) {\n            setTimeout(() => {\n              getEngineMove();\n            }, 300);\n          }\n\n          // Update predictions\n          getPredictedMoves();\n        }\n      } else {\n        // If clicked on another own piece, select that one instead\n        const piece = game.get(square);\n        if (piece && piece.color === game.turn()) {\n          setSelectedSquare(square);\n\n          // Get possible moves for this piece\n          const moves = game.moves({\n            square: square,\n            verbose: true\n          });\n          setPossibleMoves(moves);\n        } else {\n          // If clicked on an invalid square, clear selection\n          setSelectedSquare(null);\n          setPossibleMoves([]);\n        }\n      }\n    }\n  };\n\n  // Make AI move if it's AI's turn at the start or after color change\n  useEffect(() => {\n    if (engineReady && !game.isGameOver() && (game.turn() === 'w' && playerColor === 'black' || game.turn() === 'b' && playerColor === 'white')) {\n      setTimeout(() => {\n        getEngineMove();\n      }, 500);\n    }\n\n    // Update predictions whenever the game state changes\n    getPredictedMoves();\n  }, [engineReady, game, playerColor, getEngineMove, getPredictedMoves]);\n\n  // Format move history for display\n  const formattedHistory = useMemo(() => {\n    const formattedMoves = [];\n    for (let i = 0; i < moveHistory.length; i += 2) {\n      var _moveHistory$i, _moveHistory;\n      const moveNumber = Math.floor(i / 2) + 1;\n      const whiteMove = ((_moveHistory$i = moveHistory[i]) === null || _moveHistory$i === void 0 ? void 0 : _moveHistory$i.san) || '';\n      const blackMove = ((_moveHistory = moveHistory[i + 1]) === null || _moveHistory === void 0 ? void 0 : _moveHistory.san) || '';\n      formattedMoves.push({\n        moveNumber,\n        whiteMove,\n        blackMove\n      });\n    }\n    return formattedMoves;\n  }, [moveHistory]);\n\n  // Custom square styles for highlighting\n  const customSquareStyles = useMemo(() => {\n    const styles = {};\n\n    // Highlight last move\n    if (lastMove) {\n      styles[lastMove.from] = {\n        backgroundColor: 'rgba(255, 255, 0, 0.4)'\n      };\n      styles[lastMove.to] = {\n        backgroundColor: 'rgba(255, 255, 0, 0.4)'\n      };\n    }\n\n    // Highlight selected square\n    if (selectedSquare) {\n      styles[selectedSquare] = {\n        backgroundColor: 'rgba(0, 0, 255, 0.3)'\n      };\n\n      // Highlight possible moves\n      possibleMoves.forEach(move => {\n        // Green for empty squares, red for captures\n        const pieceOnTarget = game.get(move.to);\n        if (pieceOnTarget) {\n          styles[move.to] = {\n            backgroundColor: 'rgba(255, 0, 0, 0.5)'\n          }; // Red for captures\n        } else {\n          styles[move.to] = {\n            backgroundColor: 'rgba(0, 255, 0, 0.4)'\n          }; // Green for empty squares\n        }\n      });\n    }\n    return styles;\n  }, [lastMove, selectedSquare, possibleMoves, game]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chess-game\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board-container\",\n      children: /*#__PURE__*/_jsxDEV(Chessboard, {\n        position: game.fen(),\n        onSquareClick: handleSquareClick,\n        boardOrientation: playerColor,\n        customBoardStyle: {\n          borderRadius: '4px',\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\n        },\n        customSquareStyles: customSquareStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `status-indicator ${isThinking ? 'thinking' : game.isCheckmate() ? 'checkmate' : game.isDraw() ? 'draw' : 'active'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), isThinking ? 'Stockfish is thinking...' : gameStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Move History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"move-history\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"move-list\",\n            children: formattedHistory.map(move => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"move-number\",\n                children: [move.moveNumber, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"move-white\",\n                children: move.whiteMove\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"move-black\",\n                children: move.blackMove\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, move.moveNumber, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Predicted Best Moves\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"predictions-list\",\n          children: predictions.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"prediction-items\",\n            children: predictions.map((prediction, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `prediction-item ${prediction.evaluation === 'Good' ? 'good-move' : 'poor-move'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"move-notation\",\n                children: prediction.move.san\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"move-evaluation\",\n                children: prediction.evaluation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No predictions available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessGame, \"9Nohrsc+N+6uqmefmH3s3Gt0wb4=\");\n_c = ChessGame;\nexport default ChessGame;\nvar _c;\n$RefreshReg$(_c, \"ChessGame\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","Chess","Chessboard","ToastContainer","toast","jsxDEV","_jsxDEV","ChessGame","playerColor","searchDepth","_s","game","setGame","stockfish","setStockfish","isThinking","setIsThinking","moveHistory","setMoveHistory","lastMove","setLastMove","gameStatus","setGameStatus","engineReady","setEngineReady","selectedSquare","setSelectedSquare","possibleMoves","setPossibleMoves","predictions","setPredictions","gameRef","current","worker","Worker","onmessage","event","message","data","postMessage","success","position","autoClose","startsWith","moveStr","split","makeMove","info","e","error","console","terminate","isGameOver","isCheckmate","winner","turn","isDraw","reason","isStalemate","isThreefoldRepetition","isInsufficientMaterial","move","gameCopy","fen","result","prevHistory","newHistory","push","from","to","getEngineMove","getPredictedMoves","possiblePredictions","moves","verbose","i","Math","min","length","evaluation","random","handleSquareClick","square","piece","get","color","moveObj","find","promotion","setTimeout","formattedHistory","formattedMoves","_moveHistory$i","_moveHistory","moveNumber","floor","whiteMove","san","blackMove","customSquareStyles","styles","backgroundColor","forEach","pieceOnTarget","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSquareClick","boardOrientation","customBoardStyle","borderRadius","boxShadow","map","Fragment","prediction","index","_c","$RefreshReg$"],"sources":["C:/Users/adepu/OneDrive/Desktop/stockfish/chess-app/src/components/ChessGame.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\r\nimport { Chess } from 'chess.js';\r\nimport { Chessboard } from 'react-chessboard';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst ChessGame = ({ playerColor, searchDepth = 15 }) => {\r\n  const [game, setGame] = useState(new Chess());\r\n  const [stockfish, setStockfish] = useState(null);\r\n  const [isThinking, setIsThinking] = useState(false);\r\n  const [moveHistory, setMoveHistory] = useState([]);\r\n  const [lastMove, setLastMove] = useState(null);\r\n  const [gameStatus, setGameStatus] = useState('');\r\n  const [engineReady, setEngineReady] = useState(false);\r\n  const [selectedSquare, setSelectedSquare] = useState(null);\r\n  const [possibleMoves, setPossibleMoves] = useState([]);\r\n  const [predictions, setPredictions] = useState([]);\r\n  \r\n  // Refs to avoid stale closures in callbacks\r\n  const gameRef = useRef();\r\n  gameRef.current = game;\r\n\r\n  // Initialize Stockfish\r\n  useEffect(() => {\r\n    const worker = new Worker('/stockfish.js');\r\n    \r\n    worker.onmessage = (event) => {\r\n      const message = event.data;\r\n      \r\n      if (message === 'uciok') {\r\n        worker.postMessage('isready');\r\n      } else if (message === 'readyok') {\r\n        setEngineReady(true);\r\n        toast.success('Chess engine ready!', {\r\n          position: \"top-right\",\r\n          autoClose: 2000\r\n        });\r\n      } else if (message.startsWith('bestmove')) {\r\n        const moveStr = message.split(' ')[1];\r\n        if (moveStr && moveStr !== '(none)') {\r\n          try {\r\n            makeMove(moveStr);\r\n            toast.info('Stockfish made a move', {\r\n              position: \"top-right\",\r\n              autoClose: 1500\r\n            });\r\n          } catch (e) {\r\n            toast.error(`Invalid engine move: ${moveStr}`, {\r\n              position: \"top-right\",\r\n              autoClose: 3000\r\n            });\r\n            console.error('Invalid move:', moveStr, e);\r\n          }\r\n        }\r\n        setIsThinking(false);\r\n      }\r\n    };\r\n    \r\n    setStockfish(worker);\r\n    worker.postMessage('uci');\r\n    \r\n    return () => {\r\n      worker.terminate();\r\n    };\r\n  }, []);\r\n\r\n  // Update game status\r\n  useEffect(() => {\r\n    if (game.isGameOver()) {\r\n      if (game.isCheckmate()) {\r\n        const winner = game.turn() === 'w' ? 'Black' : 'White';\r\n        setGameStatus(`Checkmate! ${winner} wins.`);\r\n        toast.success(`Checkmate! ${winner} wins.`, {\r\n          position: \"top-center\",\r\n          autoClose: 5000\r\n        });\r\n      } else if (game.isDraw()) {\r\n        let reason = 'Draw';\r\n        if (game.isStalemate()) {\r\n          reason = 'Draw by stalemate';\r\n        } else if (game.isThreefoldRepetition()) {\r\n          reason = 'Draw by threefold repetition';\r\n        } else if (game.isInsufficientMaterial()) {\r\n          reason = 'Draw by insufficient material';\r\n        } else {\r\n          reason = 'Draw by 50-move rule';\r\n        }\r\n        setGameStatus(reason);\r\n        toast.info(reason, {\r\n          position: \"top-center\",\r\n          autoClose: 5000\r\n        });\r\n      }\r\n    } else {\r\n      setGameStatus(`${game.turn() === 'w' ? 'White' : 'Black'} to move`);\r\n    }\r\n    \r\n    // Clear selected square and possible moves when game state changes\r\n    setSelectedSquare(null);\r\n    setPossibleMoves([]);\r\n  }, [game]);\r\n\r\n  // Make a move on the board\r\n  const makeMove = useCallback((move) => {\r\n    try {\r\n      const gameCopy = new Chess(gameRef.current.fen());\r\n      const result = gameCopy.move(move);\r\n      \r\n      if (result) {\r\n        // Update move history\r\n        setMoveHistory(prevHistory => {\r\n          const newHistory = [...prevHistory];\r\n          newHistory.push(result);\r\n          return newHistory;\r\n        });\r\n        \r\n        // Set last move for highlighting\r\n        setLastMove({\r\n          from: result.from,\r\n          to: result.to\r\n        });\r\n        \r\n        setGame(gameCopy);\r\n        return true;\r\n      }\r\n    } catch (e) {\r\n      console.error('Invalid move:', move, e);\r\n      return false;\r\n    }\r\n    return false;\r\n  }, []);\r\n\r\n  // Get Stockfish's move\r\n  const getEngineMove = useCallback(() => {\r\n    if (!engineReady || game.isGameOver()) return;\r\n    \r\n    setIsThinking(true);\r\n    stockfish.postMessage(`position fen ${game.fen()}`);\r\n    stockfish.postMessage(`go depth ${searchDepth}`);\r\n  }, [engineReady, game, searchDepth, stockfish]);\r\n\r\n  // Get predicted best moves\r\n  const getPredictedMoves = useCallback(() => {\r\n    if (!engineReady || game.isGameOver()) return;\r\n    \r\n    // This is a simplified version - in a real app, you'd need to analyze the position\r\n    // For now, we'll just show some common next moves\r\n    const possiblePredictions = [];\r\n    const moves = game.moves({ verbose: true });\r\n    \r\n    // Take up to 5 moves for predictions\r\n    for (let i = 0; i < Math.min(5, moves.length); i++) {\r\n      possiblePredictions.push({\r\n        move: moves[i],\r\n        evaluation: Math.random() > 0.5 ? 'Good' : 'Poor'\r\n      });\r\n    }\r\n    \r\n    setPredictions(possiblePredictions);\r\n  }, [engineReady, game]);\r\n\r\n  // Handle square click for move selection\r\n  const handleSquareClick = (square) => {\r\n    // Don't allow moves during engine thinking or if game is over\r\n    if (isThinking || game.isGameOver()) return;\r\n    \r\n    // Only allow moves if it's the player's turn\r\n    if ((game.turn() === 'w' && playerColor === 'black') ||\r\n        (game.turn() === 'b' && playerColor === 'white')) {\r\n      return;\r\n    }\r\n    \r\n    // If no square is selected yet, select this one if it has a piece of the current turn\r\n    if (!selectedSquare) {\r\n      const piece = game.get(square);\r\n      if (piece && piece.color === game.turn()) {\r\n        setSelectedSquare(square);\r\n        \r\n        // Get possible moves for this piece\r\n        const moves = game.moves({ \r\n          square: square, \r\n          verbose: true \r\n        });\r\n        \r\n        setPossibleMoves(moves);\r\n      }\r\n    } \r\n    // If a square is already selected\r\n    else {\r\n      // Check if the clicked square is a valid move\r\n      const moveObj = possibleMoves.find(move => move.to === square);\r\n      \r\n      if (moveObj) {\r\n        // Make the move\r\n        const success = makeMove({\r\n          from: selectedSquare,\r\n          to: square,\r\n          promotion: 'q' // Always promote to queen for simplicity\r\n        });\r\n        \r\n        if (success) {\r\n          // Clear selection\r\n          setSelectedSquare(null);\r\n          setPossibleMoves([]);\r\n          \r\n          // Get engine's move after a short delay\r\n          if (!game.isGameOver()) {\r\n            setTimeout(() => {\r\n              getEngineMove();\r\n            }, 300);\r\n          }\r\n          \r\n          // Update predictions\r\n          getPredictedMoves();\r\n        }\r\n      } else {\r\n        // If clicked on another own piece, select that one instead\r\n        const piece = game.get(square);\r\n        if (piece && piece.color === game.turn()) {\r\n          setSelectedSquare(square);\r\n          \r\n          // Get possible moves for this piece\r\n          const moves = game.moves({ \r\n            square: square, \r\n            verbose: true \r\n          });\r\n          \r\n          setPossibleMoves(moves);\r\n        } else {\r\n          // If clicked on an invalid square, clear selection\r\n          setSelectedSquare(null);\r\n          setPossibleMoves([]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Make AI move if it's AI's turn at the start or after color change\r\n  useEffect(() => {\r\n    if (engineReady && \r\n        !game.isGameOver() && \r\n        ((game.turn() === 'w' && playerColor === 'black') ||\r\n         (game.turn() === 'b' && playerColor === 'white'))) {\r\n      setTimeout(() => {\r\n        getEngineMove();\r\n      }, 500);\r\n    }\r\n    \r\n    // Update predictions whenever the game state changes\r\n    getPredictedMoves();\r\n  }, [engineReady, game, playerColor, getEngineMove, getPredictedMoves]);\r\n\r\n  // Format move history for display\r\n  const formattedHistory = useMemo(() => {\r\n    const formattedMoves = [];\r\n    for (let i = 0; i < moveHistory.length; i += 2) {\r\n      const moveNumber = Math.floor(i / 2) + 1;\r\n      const whiteMove = moveHistory[i]?.san || '';\r\n      const blackMove = moveHistory[i + 1]?.san || '';\r\n      formattedMoves.push({ moveNumber, whiteMove, blackMove });\r\n    }\r\n    return formattedMoves;\r\n  }, [moveHistory]);\r\n\r\n  // Custom square styles for highlighting\r\n  const customSquareStyles = useMemo(() => {\r\n    const styles = {};\r\n    \r\n    // Highlight last move\r\n    if (lastMove) {\r\n      styles[lastMove.from] = { backgroundColor: 'rgba(255, 255, 0, 0.4)' };\r\n      styles[lastMove.to] = { backgroundColor: 'rgba(255, 255, 0, 0.4)' };\r\n    }\r\n    \r\n    // Highlight selected square\r\n    if (selectedSquare) {\r\n      styles[selectedSquare] = { backgroundColor: 'rgba(0, 0, 255, 0.3)' };\r\n      \r\n      // Highlight possible moves\r\n      possibleMoves.forEach(move => {\r\n        // Green for empty squares, red for captures\r\n        const pieceOnTarget = game.get(move.to);\r\n        if (pieceOnTarget) {\r\n          styles[move.to] = { backgroundColor: 'rgba(255, 0, 0, 0.5)' }; // Red for captures\r\n        } else {\r\n          styles[move.to] = { backgroundColor: 'rgba(0, 255, 0, 0.4)' }; // Green for empty squares\r\n        }\r\n      });\r\n    }\r\n    \r\n    return styles;\r\n  }, [lastMove, selectedSquare, possibleMoves, game]);\r\n\r\n  return (\r\n    <div className=\"chess-game\">\r\n      <ToastContainer />\r\n      \r\n      <div className=\"board-container\">\r\n        <Chessboard\r\n          position={game.fen()}\r\n          onSquareClick={handleSquareClick}\r\n          boardOrientation={playerColor}\r\n          customBoardStyle={{\r\n            borderRadius: '4px',\r\n            boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n          }}\r\n          customSquareStyles={customSquareStyles}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"game-info-panel\">\r\n        <div className=\"info-card\">\r\n          <div className={`status-indicator ${isThinking ? 'thinking' : game.isCheckmate() ? 'checkmate' : game.isDraw() ? 'draw' : 'active'}`}>\r\n            <span>Status:</span> \r\n            {isThinking ? 'Stockfish is thinking...' : gameStatus}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"info-card\">\r\n          <h3>Move History</h3>\r\n          <div className=\"move-history\">\r\n            <ul className=\"move-list\">\r\n              {formattedHistory.map((move) => (\r\n                <React.Fragment key={move.moveNumber}>\r\n                  <span className=\"move-number\">{move.moveNumber}.</span>\r\n                  <span className=\"move-white\">{move.whiteMove}</span>\r\n                  <span className=\"move-black\">{move.blackMove}</span>\r\n                </React.Fragment>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"info-card\">\r\n          <h3>Predicted Best Moves</h3>\r\n          <div className=\"predictions-list\">\r\n            {predictions.length > 0 ? (\r\n              <ul className=\"prediction-items\">\r\n                {predictions.map((prediction, index) => (\r\n                  <li key={index} className={`prediction-item ${prediction.evaluation === 'Good' ? 'good-move' : 'poor-move'}`}>\r\n                    <span className=\"move-notation\">{prediction.move.san}</span>\r\n                    <span className=\"move-evaluation\">{prediction.evaluation}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p>No predictions available</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChessGame; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}